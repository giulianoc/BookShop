<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->

<!DOCTYPE struts PUBLIC '-//Apache Software Foundation//DTD Commons Validator Rules Configuration 2.3//EN' 'http://struts.apache.org/dtds/struts-2.3.dtd'>

<struts>
    <package name="bookShop" extends="struts-default">

        <interceptors>
            <interceptor name="loginInterceptor"
                class="com.bookShop.interceptor.AuthenticationInterceptor" />
                <interceptor-stack name="myStack">
                    <interceptor-ref name="defaultStack" />
                    <interceptor-ref name="loginInterceptor" />
                </interceptor-stack>
        </interceptors>
        
        <global-results>
            <result name="loginAction" type="redirectAction">index</result>
        </global-results>
        
        <action name="index">
            <result>/bookShop/login.jsp</result>
        </action>
        
        <action name="doLogin" class="com.bookShop.action.LoginAction">
            <result name="success" type="redirectAction">showSearchBooks</result>
            <result name="error">/bookShop/login.jsp</result>
            <result name="input">/bookShop/login.jsp</result>
        </action>
        
        <action name="showSearchBooks">
            <interceptor-ref name="myStack" />
            <result>/bookShop/searchBooks.jsp</result>
        </action>

        <action name="doSearchBooks" class="com.bookShop.action.SearchBooksAction">
            <interceptor-ref name="myStack" />
            <result name="success">/bookShop/searchBooks.jsp</result>
            <result name="input">/bookShop/searchBooks.jsp</result>
        </action>

        <action name="doLogout" class="com.bookShop.action.LogOffAction">
            <result type="redirectAction">index</result>
        </action>
        
        <action name="doInsertBooks" class="com.bookShop.action.InsertBookAction">
            <interceptor-ref name="myStack" />
            <result name="success">/bookShop/manageBooks.jsp</result>
            <result name="input">/bookShop/addBooks.jsp</result>
        </action>
        
        <action name="showAddBooks">
            <interceptor-ref name="myStack" />
            <result type="redirect">/bookShop/addBooks.jsp</result>
        </action>

        <action name="showManageBooks">
            <interceptor-ref name="myStack" />
            <result>/bookShop/manageBooks.jsp</result>
        </action>
        
        <action name="doManageSearchBooks" class="com.bookShop.action.ManageSearchBooksAction">
            <interceptor-ref name="myStack" />
            <result name="success">/bookShop/manageBooks.jsp</result>
        </action>

        <action name="showEditBooks" class="com.bookShop.action.EditBookAction">
            <interceptor-ref name="myStack" />
            <result name="success">/bookShop/updateBooks.jsp</result>
        </action>
        
        <action name="doUpdateBooks" class="com.bookShop.action.UpdateBookAction">
            <interceptor-ref name="myStack" />
            <result name="success">/bookShop/manageBooks.jsp</result>
            <result name="input">/bookShop/updateBooks.jsp</result>
        </action>

        <action name="doDeleteBooks" class="com.bookShop.action.DeleteBookAction">
            <interceptor-ref name="myStack" />
            <result name="success">/bookShop/manageBooks.jsp</result>
        </action>

    </package>
</struts>
